/*! ---------nullice--------Banner 注释 */
webpackJsonp([0],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(!(void 0==t||t.length<1)){for(var e=[],n=0;n<t.length;n++){var r=m["default"].lstatSync(t[n].path);r.isDirectory()?s(t[n].path,m["default"].readdirSync(t[n].path),e):a(t[n].path)&&e.push({path:t[n].path,size:t[n].size})}o(e),console.log("--------"),console.log(e)}}function o(t){function e(t,e){for(var n=0;n<e.length;n++)if(e[n].path==t)return!0;return!1}if(v.tasks_doing)return void alert("任务进行中，不能添加文件");k.length>0&&1==k[0].done&&(k=[]);for(var n=0;n<t.length;n++)0==e(t[n].path,k)&&k.push({name:d["default"].basename(t[n].path),size_old:t[n].size,size_new:0,path:t[n].path,new_File:"",doing:!1,done:!1,error:!1,error_info:"",time_consum:null,log:""});void 0!==k&&k.length>0?O.list=k:alert("拖入的文件没有图片")}function s(t,e,n){for(var r=0;r<e.length;r++){var i=d["default"].join(t,e[r]),o=m["default"].lstatSync(i);o.isDirectory()?s(i,m["default"].readdirSync(i),n):a(i)&&n.push({path:i,size:o.size})}}function a(t){return".png"==d["default"].extname(t).toLocaleLowerCase()}var c=n(1),u=r(c),l=n(2),f=r(l);n(12);var p=n(16),d=r(p),h=n(17),m=r(h),y=n(18),g=r(y);n(72),n(74);var b=n(75),w=r(b);u["default"].use(f["default"]);var S=w["default"].remote,E=S.dialog,_=w["default"].shell,x=w["default"].ipcRenderer,_=w["default"].shell;window.path=d["default"],window.fs=m["default"],window.remote=S,window.dialog=E,window.shell=_,window.Vue=u["default"],window.filter_file_size=function(t){if(1024>t)return t+" B";var e=t/1024;return e>1e3?(e/1024).toFixed(2)+" MB":e.toFixed(2)+" KB"},u["default"].filter("filter_file_size",filter_file_size),window.filter_file_size_pre=function(t){var e=void 0;return t>1.001?"+ "+Math.floor(100*(t-1))+"%":(e=1-t,.01>e&&e>0?"- "+(100*e).toFixed(2)+"%":"- "+Math.floor(100*e)+"%")},u["default"].filter("filter_file_size_pre",filter_file_size_pre);var k=[],O=new u["default"]({el:"#vue_app",data:{test:"ddddd",list:k,loading_file:!1,tasks_doing:!1,time:0,mode:"limit",out:"-suffix",thread:2},methods:{openImg_right:function(t,e){2==t.button&&_.openItem(e)},openImg:function(t){_.openItem(t)},open_file:function(){return v.tasks_doing?void alert("任务进行中，不能打开文件"):void E.showOpenDialog({title:"打开文件",properties:["openFile","multiSelections"]},function(t){if(void 0!=t&&t.length>0){for(var e=[],n=0;n<t.length;n++){var r=m["default"].lstatSync(t[n]);r.isDirectory()?s(t[n],m["default"].readdirSync(t[n]),e):a(t[n])&&e.push({path:t[n],size:getFileSize(t[n])})}o(e)}})},remove_all:function(){0==v.tasks_doing&&(this.list=[],k=[])}},computed:{list_size_old:function(){for(var t=0,e=0;e<this.list.length;e++)t+=+this.list[e].size_old;return t},list_size_new:function(){for(var t=0,e=0;e<this.list.length;e++)t+=+this.list[e].size_new;return t},out_dir:function(){return void 0!=this.out[0]&&"-"!=this.out[0]?this.out:""}},created:function(){u["default"].vueDragula.options("my-bag",{direction:"vertical"})}});window.v=O,window.a=k;var N=document.getElementById("main_body");N.ondragover=function(){return!1},N.ondragleave=N.ondragend=function(){return!1},N.ondrop=function(t){t.preventDefault();t.dataTransfer.files[0];console.log(t.dataTransfer.files),O.loading_file=!0;var e=t.dataTransfer.files;return setTimeout(function(){i(e),O.loading_file=!1},100),!1},window.doLimiteByfile_data=function(){function t(){for(;i>0&&e.length>0;)e.shift()(function(){i++,t()}),i--}if(!(v.tasks_doing>0)){v.time=Date.now();var e=[];window.tasks=e;for(var n=function(t){var n=new LimitPNG(O.list[t].path);console.log(n),""!=n.pngFile&&(e[t]=function(e,r){O.list[t].doing=!0;var i=function(n,r,i,o,s,a){O.list[t].doing=!1,O.list[t].done=!0,O.list[t].size_new=i,O.list[t].time_consum=o,O.list[t].new_File=n,O.list[t].log=a,void 0!=s&&""!=s&&(O.list[t].error=!0,O.list[t].error_info=s),v.tasks_doing=v.tasks_doing-1,v.tasks_doing<1&&(v.time=Date.now()-v.time),void 0!=e&&e(0)};n.doDefault(O.out,O.mode,i)})},r=0;r<O.list.length;r++)n(r);var i=2;void 0!=v.thread&&v.thread>0&&v.thread<16&&(i=v.thread),v.tasks_doing=e.length,t()}},window.minimize=function(){x.send("minimize")},window.exit=function(){var t=os.tmpdir();t=d["default"].join(t,"limitPNG_temp"),g["default"].removeSync(t),x.send("exit")};var j=!1;window.select_out_blur=function(){(j=!0)&&(j=!1)},window.select_out=function(){if(j){var t=document.getElementById("outFile");2==t.selectedIndex&&E.showOpenDialog({title:"选择输出文件夹",defaultPath:v.our_dir,properties:["openDirectory"]},function(e){void 0!=e&&e.length>0&&(t[2].text="输出到："+e[0],t[2].value=e[0],v.out=e[0])})}j=!j},window.openUrl=function(t){console.log(t),_.openExternal(t)}},,function(t,e,n){var r,i;/*!
	 * vue-dragula v1.0.3
	 * (c) 2016 Yichang Liu
	 * Released under the MIT License.
	 */
!function(e,r){t.exports=r(n(3))}(this,function(n){"use strict";function o(t){var e=new c(t),r="globalBag",i=void 0;t.vueDragula={options:e.setOptions.bind(e),eventBus:e.eventBus},t.directive("dragula",{params:["bag"],bind:function(){var t=this.el,o=this.params.bag;void 0!==o&&0!==o.length&&(r=o);var s=e.find(r);return s?(i=s.drake,void i.containers.push(t)):(i=n({containers:[t]}),e.add(r,i),void e.handleModels(r,i))},update:function(t,e){if(t)if(i.models){var n=e?i.models.indexOf(e):-1;n>=0?i.models.splice(n,1,t):i.models.push(t)}else i.models=[t]},unbind:function(){e.destroy(r)}})}function s(t){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s.installed&&console.warn("[vue-dragula] already installed."),o(t)}n="default"in n?n["default"]:n;var a={};if(a.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),!n)throw new Error("[vue-dragula] cannot locate dragula.");var c=function(){function t(e){a.classCallCheck(this,t),this.bags=[],this.eventBus=new e,this.events=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow","dropModel","removeModel"]}return a.createClass(t,[{key:"add",value:function(t,e){var n=this.find(t);if(n)throw new Error('Bag named: "'+t+'" already exists.');return n={name:t,drake:e},this.bags.push(n),e.models&&this.handleModels(t,e),n.initEvents||this.setupEvents(n),n}},{key:"find",value:function(t){for(var e=this.bags,n=0;n<e.length;n++)if(e[n].name===t)return e[n]}},{key:"handleModels",value:function(t,e){var n=this;if(!e.registered){var r=void 0,i=void 0,o=void 0,s=void 0;e.on("remove",function(r,o){e.models&&(s=e.models[e.containers.indexOf(o)],s.splice(i,1),n.eventBus.$emit("removeModel",[t,r,o]))}),e.on("drag",function(t,e){r=t,i=n.domIndexOf(t,e)}),e.on("drop",function(a,c,u){if(e.models&&c){if(o=n.domIndexOf(a,c),s=e.models[e.containers.indexOf(u)],c===u)s.splice(o,0,s.splice(i,1)[0]);else{var l=r===a,f=e.models[e.containers.indexOf(c)],p=l?s[i]:JSON.parse(JSON.stringify(s[i]));l&&s.splice(i,1),f.splice(o,0,p)}n.eventBus.$emit("dropModel",[t,a,c,u])}}),e.registered=!0}}},{key:"destroy",value:function(t){var e=this.find(t);if(e){var n=this.bags.indexOf(e);this.bags.splice(n,1),e.drake.destroy()}}},{key:"setOptions",value:function(t,e){var r=this.add(t,n(e));this.handleModels(t,r.drake)}},{key:"setupEvents",value:function(t){t.initEvents=!0;var e=this,n=function(n){function r(){var r=Array.prototype.slice.call(arguments);e.eventBus.$emit(n,[t.name].concat(r))}t.drake.on(n,r)};this.events.forEach(n)}},{key:"domIndexOf",value:function(t,e){return Array.prototype.indexOf.call(e.children,t)}}]),t}();if(!n)throw new Error("[vue-dragula] cannot locate dragula.");return s.version="1.0.0",r=[],i=function(){}.apply(e,r),!(void 0!==i&&(t.exports=i)),s})},function(t,e,n){"use strict";function r(t,e){function n(t){return-1!==lt.containers.indexOf(t)||ut.isContainer(t)}function r(t){var e=t?"remove":"add";i(_,e,"mousedown",k),i(_,e,"mouseup",I)}function a(t){var e=t?"remove":"add";i(_,e,"mousemove",O)}function m(t){var e=t?"remove":"add";w[e](_,"selectstart",x),w[e](_,"click",x)}function y(){r(!0),I({})}function x(t){at&&t.preventDefault()}function k(t){et=t.clientX,nt=t.clientY;var e=1!==o(t)||t.metaKey||t.ctrlKey;if(!e){var n=t.target,r=N(n);r&&(at=r,a(),"mousedown"===t.type&&(h(n)?n.focus():t.preventDefault()))}}function O(t){if(at){if(0===o(t))return void I({});if(void 0===t.clientX||t.clientX!==et||void 0===t.clientY||t.clientY!==nt){if(ut.ignoreInputTextSelection){var e=g("clientX",t),n=g("clientY",t),r=E.elementFromPoint(e,n);if(h(r))return}var i=at;a(!0),m(),T(),L(i);var c=s(H);Z=g("pageX",t)-c.left,tt=g("pageY",t)-c.top,S.add(ot||H,"gu-transit"),Y(),G(t)}}}function N(t){if(!(lt.dragging&&K||n(t))){for(var e=t;d(t)&&n(d(t))===!1;){if(ut.invalid(t,e))return;if(t=d(t),!t)return}var r=d(t);if(r&&!ut.invalid(t,e)){var i=ut.moves(t,r,e,v(t));if(i)return{item:t,source:r}}}}function j(t){return!!N(t)}function A(t){var e=N(t);e&&L(e)}function L(t){J(t.item,t.source)&&(ot=t.item.cloneNode(!0),lt.emit("cloned",ot,t.item,"copy")),V=t.source,H=t.item,rt=it=v(t.item),lt.dragging=!0,lt.emit("drag",H,V)}function F(){return!1}function T(){if(lt.dragging){var t=ot||H;z(t,d(t))}}function R(){at=!1,a(!0),m(!0)}function I(t){if(R(),lt.dragging){var e=ot||H,n=g("clientX",t),r=g("clientY",t),i=c(K,n,r),o=q(i,n,r);o&&(ot&&ut.copySortSource||!ot||o!==V)?z(e,o):ut.removeOnSpill?D():C()}}function z(t,e){var n=d(t);ot&&ut.copySortSource&&e===V&&n.removeChild(H),P(e)?lt.emit("cancel",t,V,V):lt.emit("drop",t,e,V,it),M()}function D(){if(lt.dragging){var t=ot||H,e=d(t);e&&e.removeChild(t),lt.emit(ot?"cancel":"remove",t,e,V),M()}}function C(t){if(lt.dragging){var e=arguments.length>0?t:ut.revertOnSpill,n=ot||H,r=d(n),i=P(r);i===!1&&e&&(ot?r.removeChild(ot):V.insertBefore(n,rt)),i||e?lt.emit("cancel",n,V,V):lt.emit("drop",n,r,V,it),M()}}function M(){var t=ot||H;R(),U(),t&&S.rm(t,"gu-transit"),st&&clearTimeout(st),lt.dragging=!1,ct&&lt.emit("out",t,ct,V),lt.emit("dragend",t),V=H=ot=rt=it=st=ct=null}function P(t,e){var n;return n=void 0!==e?e:K?it:v(ot||H),t===V&&n===rt}function q(t,e,r){function i(){var i=n(o);if(i===!1)return!1;var s=W(o,t),a=$(o,s,e,r),c=P(o,a);return c?!0:ut.accepts(H,o,V,a)}for(var o=t;o&&!i();)o=d(o);return o}function G(t){function e(t){lt.emit(t,u,ct,V)}function n(){p&&e("over")}function r(){ct&&e("out")}if(K){t.preventDefault();var i=g("clientX",t),o=g("clientY",t),s=i-Z,a=o-tt;K.style.left=s+"px",K.style.top=a+"px";var u=ot||H,l=c(K,i,o),f=q(l,i,o),p=null!==f&&f!==ct;(p||null===f)&&(r(),ct=f,n());var h=d(u);if(f===V&&ot&&!ut.copySortSource)return void(h&&h.removeChild(u));var m,y=W(f,l);if(null!==y)m=$(f,y,i,o);else{if(ut.revertOnSpill!==!0||ot)return void(ot&&h&&h.removeChild(u));m=rt,f=V}(null===m&&p||m!==u&&m!==v(u))&&(it=m,f.insertBefore(u,m),lt.emit("shadow",u,f,V))}}function B(t){S.rm(t,"gu-hide")}function Q(t){lt.dragging&&S.add(t,"gu-hide")}function Y(){if(!K){var t=H.getBoundingClientRect();K=H.cloneNode(!0),K.style.width=f(t)+"px",K.style.height=p(t)+"px",S.rm(K,"gu-transit"),S.add(K,"gu-mirror"),ut.mirrorContainer.appendChild(K),i(_,"add","mousemove",G),S.add(ut.mirrorContainer,"gu-unselectable"),lt.emit("cloned",K,H,"mirror")}}function U(){K&&(S.rm(ut.mirrorContainer,"gu-unselectable"),i(_,"remove","mousemove",G),d(K).removeChild(K),K=null)}function W(t,e){for(var n=e;n!==t&&d(n)!==t;)n=d(n);return n===_?null:n}function $(t,e,n,r){function i(){var e,i,o,s=t.children.length;for(e=0;s>e;e++){if(i=t.children[e],o=i.getBoundingClientRect(),a&&o.left+o.width/2>n)return i;if(!a&&o.top+o.height/2>r)return i}return null}function o(){var t=e.getBoundingClientRect();return s(a?n>t.left+f(t)/2:r>t.top+p(t)/2)}function s(t){return t?v(e):e}var a="horizontal"===ut.direction,c=e!==t?o():i();return c}function J(t,e){return"boolean"==typeof ut.copy?ut.copy:ut.copy(t,e)}var X=arguments.length;1===X&&Array.isArray(t)===!1&&(e=t,t=[]);var K,V,H,Z,tt,et,nt,rt,it,ot,st,at,ct=null,ut=e||{};void 0===ut.moves&&(ut.moves=l),void 0===ut.accepts&&(ut.accepts=l),void 0===ut.invalid&&(ut.invalid=F),void 0===ut.containers&&(ut.containers=t||[]),void 0===ut.isContainer&&(ut.isContainer=u),void 0===ut.copy&&(ut.copy=!1),void 0===ut.copySortSource&&(ut.copySortSource=!1),void 0===ut.revertOnSpill&&(ut.revertOnSpill=!1),void 0===ut.removeOnSpill&&(ut.removeOnSpill=!1),void 0===ut.direction&&(ut.direction="vertical"),void 0===ut.ignoreInputTextSelection&&(ut.ignoreInputTextSelection=!0),void 0===ut.mirrorContainer&&(ut.mirrorContainer=E.body);var lt=b({containers:ut.containers,start:A,end:T,cancel:C,remove:D,destroy:y,canMove:j,dragging:!1});return ut.removeOnSpill===!0&&lt.on("over",B).on("out",Q),r(),lt}function i(t,e,n,r){var i={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},o={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},s={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};global.navigator.pointerEnabled?w[e](t,o[n],r):global.navigator.msPointerEnabled?w[e](t,s[n],r):(w[e](t,i[n],r),w[e](t,n,r))}function o(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function s(t){var e=t.getBoundingClientRect();return{left:e.left+a("scrollLeft","pageXOffset"),top:e.top+a("scrollTop","pageYOffset")}}function a(t,e){return"undefined"!=typeof global[e]?global[e]:_.clientHeight?_[t]:E.body[t]}function c(t,e,n){var r,i=t||{},o=i.className;return i.className+=" gu-hide",r=E.elementFromPoint(e,n),i.className=o,r}function u(){return!1}function l(){return!0}function f(t){return t.width||t.right-t.left}function p(t){return t.height||t.bottom-t.top}function d(t){return t.parentNode===E?null:t.parentNode}function h(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||m(t)}function m(t){return t?"false"===t.contentEditable?!1:"true"===t.contentEditable?!0:m(d(t)):!1}function v(t){function e(){var e=t;do e=e.nextSibling;while(e&&1!==e.nodeType);return e}return t.nextElementSibling||e()}function y(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}function g(t,e){var n=y(e),r={pageX:"clientX",pageY:"clientY"};return t in r&&!(t in n)&&r[t]in n&&(t=r[t]),n[t]}var b=n(4),w=n(8),S=n(11),E=document,_=E.documentElement;t.exports=r},function(t,e,n){"use strict";var r=n(5),i=n(6);t.exports=function(t,e){var n=e||{},o={};return void 0===t&&(t={}),t.on=function(e,n){return o[e]?o[e].push(n):o[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var r=arguments.length;if(1===r)delete o[e];else if(0===r)o={};else{var i=o[e];if(!i)return t;i.splice(i.indexOf(n),1)}return t},t.emit=function(){var e=r(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var s=(o[e]||[]).slice(0);return function(){var o=r(arguments),a=this||t;if("error"===e&&n["throws"]!==!1&&!s.length)throw 1===o.length?o[0]:o;return s.forEach(function(r){n.async?i(r,o,a):r.apply(a,o),r._once&&t.off(e,r)}),t}},t}},function(t,e){t.exports=function(t,e){return Array.prototype.slice.call(t,e)}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e,n){t&&r(function(){t.apply(n||null,e||[])})}},function(t,e){var n,r="function"==typeof setImmediate;n=r?function(t){setImmediate(t)}:"undefined"!=typeof process&&process.nextTick?process.nextTick:function(t){setTimeout(t,0)},t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r){return t.addEventListener(e,n,r)}function i(t,e,n){return t.attachEvent("on"+e,u(t,e,n))}function o(t,e,n,r){return t.removeEventListener(e,n,r)}function s(t,e,n){var r=l(t,e,n);return r?t.detachEvent("on"+e,r):void 0}function a(t,e,n){function r(){var t;return h.createEvent?(t=h.createEvent("Event"),t.initEvent(e,!0,!0)):h.createEventObject&&(t=h.createEventObject()),t}function i(){return new p(e,{detail:n})}var o=-1===d.indexOf(e)?i():r();t.dispatchEvent?t.dispatchEvent(o):t.fireEvent("on"+e,o)}function c(t,e,n){return function(e){var r=e||global.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,n.call(t,r)}}function u(t,e,n){var r=l(t,e,n)||c(t,e,n);return y.push({wrapper:r,element:t,type:e,fn:n}),r}function l(t,e,n){var r=f(t,e,n);if(r){var i=y[r].wrapper;return y.splice(r,1),i}}function f(t,e,n){var r,i;for(r=0;r<y.length;r++)if(i=y[r],i.element===t&&i.type===e&&i.fn===n)return r}var p=n(9),d=n(10),h=global.document,m=r,v=o,y=[];global.addEventListener||(m=i,v=s),t.exports={add:m,remove:v,fabricate:a}},function(t,e){function n(){try{var t=new r("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(e){}return!1}var r=global.CustomEvent;t.exports=n()?r:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},function(t,e){"use strict";var n=[],r="",i=/^on/;for(r in global)i.test(r)&&n.push(r.slice(2));t.exports=n},function(t,e){"use strict";function n(t){var e=o[t];return e?e.lastIndex=0:o[t]=e=new RegExp(s+t+a,"g"),e}function r(t,e){var r=t.className;r.length?n(e).test(r)||(t.className+=" "+e):t.className=e}function i(t,e){t.className=t.className.replace(n(e)," ").trim()}var o={},s="(?:^|\\s)",a="(?:\\s|$)";t.exports={add:r,rm:i}},function(t,e,n){var r=n(13);"string"==typeof r&&(r=[[t.id,r,""]]);n(15)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(14)(),e.push([t.id,'.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}.gu-hide{display:none!important}.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(u(r.parts[o],e));d[r.id]={id:r.id,refs:1,parts:s}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],s=i[1],a=i[2],c=i[3],u={css:s,media:a,sourceMap:c};n[o]?n[o].parts.push(u):e.push(n[o]={id:o,parts:[u]})}return e}function o(t,e){var n=v(),r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function u(t,e){var n,r,i;if(e.singleton){var o=g++;n=y||(y=a(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),r=p.bind(null,n),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=f.bind(null,n),i=function(){s(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,g=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],c=d[a.id];c.refs--,o.push(c)}if(t){var u=i(t);r(u,e)}for(var s=0;s<o.length;s++){var c=o[s];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete d[c.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e,n){var r=n(19),i={},o=n(20);Object.keys(o).forEach(function(t){i[t]=o[t]});var s=i;r(s,n(28)),r(s,n(37)),r(s,n(33)),r(s,n(40)),r(s,n(55)),r(s,n(60)),r(s,n(61)),r(s,n(62)),r(s,n(68)),r(s,n(69)),t.exports=s;var a={};Object.defineProperty(a,"spaces",{get:function(){return s.spaces},set:function(t){s.spaces=t}}),t.exports.jsonfile=a},function(t,e){function n(){var t=[].slice.call(arguments).filter(function(t){return t}),e=t.shift();return t.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}t.exports=n},function(t,e,n){function r(){}function i(t){function e(t,e,n){function r(t,e,n){return y(t,e,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof n&&n.apply(this,arguments),s()):o([r,[t,e,n]])})}return"function"==typeof e&&(n=e,e=null),r(t,e,n)}function n(t,e,n,r){function i(t,e,n,r){return g(t,e,n,function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof r&&r.apply(this,arguments),s()):o([i,[t,e,n,r]])})}return"function"==typeof n&&(r=n,n=null),i(t,e,n,r)}function r(t,e,n,r){function i(t,e,n,r){return b(t,e,n,function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof r&&r.apply(this,arguments),s()):o([i,[t,e,n,r]])})}return"function"==typeof n&&(r=n,n=null),i(t,e,n,r)}function a(t,e){function n(){return w(t,function(r,i){i&&i.sort&&i.sort(),!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof e&&e.apply(this,arguments),s()):o([n,[t,e]])})}return n(t,e)}function l(t,e){return this instanceof l?(E.apply(this,arguments),this):l.apply(Object.create(l.prototype),arguments)}function f(){var t=this;v(t.path,t.flags,t.mode,function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())})}function p(t,e){return this instanceof p?(_.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function d(){var t=this;v(t.path,t.flags,t.mode,function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))})}function h(t,e){return new l(t,e)}function m(t,e){return new p(t,e)}function v(t,e,n,r){function i(t,e,n,r){return x(t,e,n,function(a,c){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof r&&r.apply(this,arguments),s()):o([i,[t,e,n,r]])})}return"function"==typeof n&&(r=n,n=null),i(t,e,n,r)}c(t),t.gracefulify=i,t.FileReadStream=l,t.FileWriteStream=p,t.createReadStream=h,t.createWriteStream=m;var y=t.readFile;t.readFile=e;var g=t.writeFile;t.writeFile=n;var b=t.appendFile;b&&(t.appendFile=r);var w=t.readdir;if(t.readdir=a,"v0.8"===process.version.substr(0,4)){var S=u(t);l=S.ReadStream,p=S.WriteStream}var E=t.ReadStream;l.prototype=Object.create(E.prototype),l.prototype.open=f;var _=t.WriteStream;p.prototype=Object.create(_.prototype),p.prototype.open=d,t.ReadStream=l,t.WriteStream=p;var x=t.open;return t.open=v,t}function o(t){p("ENQUEUE",t[0].name,t[1]),l.push(t)}function s(){var t=l.shift();t&&(p("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}var a=n(17),c=n(21),u=n(24),l=[],f=n(26),p=r;f.debuglog?p=f.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var t=f.format.apply(f,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){p(l),n(27).equal(l.length,0)}),t.exports=i(n(22)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(t.exports=i(a)),t.exports.close=a.close=function(t){return function(e,n){return t.call(a,e,function(t){t||s(),"function"==typeof n&&n.apply(this,arguments)})}}(a.close),t.exports.closeSync=a.closeSync=function(t){return function(e){var n=t.apply(a,arguments);return s(),n}}(a.closeSync)},function(t,e,n){function r(t){l.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&i(t),t.lutimes||o(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=s(t.chmod),t.fchmod=s(t.fchmod),t.lchmod=s(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=s(t.chmodSync),t.fchmodSync=s(t.fchmodSync),t.lchmodSync=s(t.lchmodSync),t.lchmod||(t.lchmod=function(t,e,n){process.nextTick(n)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(t,e,n,r){process.nextTick(r)},t.lchownSync=function(){}),"win32"===process.platform&&(t.rename=function(t){return function(e,n,r){var i=Date.now();t(e,n,function o(s){return s&&("EACCES"===s.code||"EPERM"===s.code)&&Date.now()-i<1e3?t(e,n,o):void(r&&r(s))})}}(t.rename)),t.read=function(e){return function(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,f,p){return l&&"EAGAIN"===l.code&&10>u?(u++,e.call(t,n,r,i,o,s,c)):void a.apply(this,arguments)}}return e.call(t,n,r,i,o,s,c)}}(t.read),t.readSync=function(e){return function(n,r,i,o,s){for(var a=0;;)try{return e.call(t,n,r,i,o,s)}catch(c){if("EAGAIN"===c.code&&10>a){a++;continue}throw c}}}(t.readSync)}function i(t){t.lchmod=function(e,n,r){r=r||noop,t.open(e,l.O_WRONLY|l.O_SYMLINK,n,function(e,i){return e?void r(e):void t.fchmod(i,n,function(e){t.close(i,function(t){r(e||t)})})})},t.lchmodSync=function(e,n){var r,i=t.openSync(e,l.O_WRONLY|l.O_SYMLINK,n),o=!0;try{r=t.fchmodSync(i,n),o=!1}finally{if(o)try{t.closeSync(i)}catch(s){}else t.closeSync(i)}return r}}function o(t){l.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,r,i){t.open(e,l.O_SYMLINK,function(e,o){return i=i||noop,e?i(e):void t.futimes(o,n,r,function(e){t.close(o,function(t){return i(e||t)})})})},t.lutimesSync=function(e,n,r){var i,o=t.openSync(e,l.O_SYMLINK),s=!0;try{i=t.futimesSync(o,n,r),s=!1}finally{if(s)try{t.closeSync(o)}catch(a){}else t.closeSync(o)}return i}):(t.lutimes=function(t,e,n,r){process.nextTick(r)},t.lutimesSync=function(){})}function s(t){return t?function(e,n,r,i){return t.call(u,e,n,r,function(t,e){c(t)&&(t=null),i(t,e)})}:t}function a(t){return t?function(e,n,r){try{return t.call(u,e,n,r)}catch(i){if(!c(i))throw i}}:t}function c(t){if(!t)return!0;if("ENOSYS"===t.code)return!0;var e=!process.getuid||0!==process.getuid();return e&&("EINVAL"===t.code||"EPERM"===t.code)}var u=n(22),l=n(23),f=process.cwd,p=null;process.cwd=function(){return p||(p=f.call(process)),p};try{process.cwd()}catch(d){}var h=process.chdir;process.chdir=function(t){p=null,h.call(process,t)},t.exports=r},function(t,e,n){"use strict";function r(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var i=n(17);t.exports=r(i)},function(t,e){t.exports=require("constants")},function(t,e,n){function r(t){function e(n,r){if(!(this instanceof e))return new e(n,r);i.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var s=Object.keys(r),a=0,c=s.length;c>a;a++){var u=s[a];this[u]=r[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}return null!==this.fd?void process.nextTick(function(){o._read()}):void t.open(this.path,this.flags,this.mode,function(t,e){return t?(o.emit("error",t),void(o.readable=!1)):(o.fd=e,o.emit("open",e),void o._read())})}function n(e,r){if(!(this instanceof n))return new n(e,r);i.call(this),this.path=e,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var o=Object.keys(r),s=0,a=o.length;a>s;s++){var c=o[s];this[c]=r[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}return{ReadStream:e,WriteStream:n}}var i=n(25).Stream;t.exports=r},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("util")},function(t,e){t.exports=require("assert")},function(t,e,n){t.exports={copy:n(29)}},function(t,e,n){function r(t,e,n,r){"function"!=typeof n||r?("function"==typeof n||n instanceof RegExp)&&(n={filter:n}):(r=n,n={}),r=r||function(){},n=n||{};var c=process.cwd(),u=o.resolve(c,t),l=o.resolve(c,e);return u===l?r(new Error("Source and destination must not be the same.")):void i.lstat(t,function(c,u){if(c)return r(c);var l=null;if(u.isDirectory()){var f=e.split(o.sep);f.pop(),l=f.join(o.sep)}else l=o.dirname(e);i.exists(l,function(i){return i?s(t,e,n,r):void a.mkdirs(l,function(i){return i?r(i):void s(t,e,n,r)})})})}var i=n(20),o=n(16),s=n(30),a=n(33);t.exports=r},function(t,e,n){function r(t,e,n,r){function a(t){if(L++,x)if(x instanceof RegExp){if(!x.test(t))return w(!0)}else if("function"==typeof x&&!x(t))return w(!0);return c(t)}function c(t){var e=N?i.stat:i.lstat;return T>=R?setImmediate(function(){c(t)}):(T++,void e(t,function(e,n){if(e)return b(e);var r={name:t,mode:n.mode,mtime:n.mtime,atime:n.atime,stats:n};return n.isDirectory()?p(r):n.isFile()||n.isCharacterDevice()||n.isBlockDevice()?u(r):n.isSymbolicLink()?m(t):void 0}))}function u(t){var e=t.name.replace(E,_);g(e,function(n){n?l(t,e):O?f(e,function(){l(t,e)}):w()})}function l(t,e){var n=i.createReadStream(t.name),r=i.createWriteStream(e,{mode:t.mode});n.on("error",b),r.on("error",b),k?k(n,r,t):r.on("open",function(){n.pipe(r)}),r.once("finish",function(){i.chmod(e,t.mode,function(n){return n?b(n):void(j?s.utimesMillis(e,t.atime,t.mtime,function(t){return t?b(t):w()}):w())})})}function f(t,e){i.unlink(t,function(t){return t?b(t):e()})}function p(t){var e=t.name.replace(E,_);g(e,function(n){return n?d(t,e):void h(t.name)})}function d(t,e){i.mkdir(e,t.mode,function(n){return n?b(n):void i.chmod(e,t.mode,function(e){return e?b(e):void h(t.name)})})}function h(t){i.readdir(t,function(e,n){return e?b(e):(n.forEach(function(e){a(o.join(t,e))}),w())})}function m(t){var e=t.replace(E,_);i.readlink(t,function(t,n){return t?b(t):void v(n,e)})}function v(t,e){N&&(t=o.resolve(S,t)),g(e,function(n){return n?y(t,e):void i.readlink(e,function(n,r){return n?b(n):(N&&(r=o.resolve(S,r)),r===t?w():f(e,function(){y(t,e)}))})})}function y(t,e){i.symlink(t,e,function(t){return t?b(t):w()})}function g(t,e){i.lstat(t,function(t){return e(t?"ENOENT"===t.code?!0:!1:!1)})}function b(t){return n.stopOnError?r(t):(!A&&n.errs?A=i.createWriteStream(n.errs):A||(A=[]),"undefined"==typeof A.write?A.push(t):A.write(t.stack+"\n\n"),w())}function w(t){return t||T--,F++,L===F&&0===T&&void 0!==r?r(A?A:null):void 0}r||(r=n,n={});var S=process.cwd(),E=o.resolve(S,t),_=o.resolve(S,e),x=n.filter,k=n.transform,O=n.clobber!==!1,N=n.dereference,j=n.preserveTimestamps===!0,A=null,L=0,F=0,T=0,R=n.limit||512;a(E)}var i=n(20),o=n(16),s=n(31);t.exports=r},function(t,e,n){function r(){var t=c.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=c.join(u.tmpdir(),t);var e=new Date(1435410243862);a.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");var n=a.openSync(t,"r+");return a.futimesSync(n,e,e),a.closeSync(n),a.statSync(t).mtime>1435410243e3}function i(t){var e=c.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=c.join(u.tmpdir(),e);var n=new Date(1435410243862);a.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",function(r){return r?t(r):void a.open(e,"r+",function(r,i){return r?t(r):void a.futimes(i,n,n,function(n){return n?t(n):void a.close(i,function(n){return n?t(n):void a.stat(e,function(e,n){return e?t(e):void t(null,n.mtime>1435410243e3)})})})})})}function o(t){if("number"==typeof t)return 1e3*Math.floor(t/1e3);if(t instanceof Date)return new Date(1e3*Math.floor(t.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function s(t,e,n,r){a.open(t,"r+",function(t,i){return t?r(t):void a.futimes(i,e,n,function(t){return t?r(t):void a.close(i,r)})})}var a=n(20),c=n(16),u=n(32);t.exports={hasMillisRes:i,hasMillisResSync:r,timeRemoveMillis:o,utimesMillis:s}},function(t,e){t.exports=require("os")},function(t,e,n){t.exports={mkdirs:n(34),mkdirsSync:n(36),mkdirp:n(34),mkdirpSync:n(36),ensureDir:n(34),ensureDirSync:n(36)}},function(t,e,n){function r(t,e,n,c){if("function"==typeof e?(n=e,e={}):e&&"object"==typeof e||(e={mode:e}),"win32"===process.platform&&s(t)){var u=new Error(t+" contains invalid WIN32 path characters.");return u.code="EINVAL",n(u)}var l=e.mode,f=e.fs||i;void 0===l&&(l=a&~process.umask()),c||(c=null),n=n||function(){},t=o.resolve(t),f.mkdir(t,l,function(i){if(!i)return c=c||t,n(null,c);switch(i.code){case"ENOENT":if(o.dirname(t)===t)return n(i);r(o.dirname(t),e,function(i,o){i?n(i,o):r(t,e,n,o)});break;default:f.stat(t,function(t,e){t||!e.isDirectory()?n(i,c):n(null,c)})}})}var i=n(20),o=n(16),s=n(35).invalidWin32Path,a=parseInt("0777",8);t.exports=r},function(t,e,n){"use strict";function r(t){return t=o.normalize(o.resolve(t)).split(o.sep),t.length>0?t[0]:null}function i(t){var e=r(t);return t=t.replace(e,""),s.test(t)}var o=n(16),s=/[<>:"|?*]/;t.exports={getRootPath:r,invalidWin32Path:i}},function(t,e,n){function r(t,e,n){e&&"object"==typeof e||(e={mode:e});var c=e.mode,u=e.fs||i;if("win32"===process.platform&&s(t)){var l=new Error(t+" contains invalid WIN32 path characters.");throw l.code="EINVAL",l}void 0===c&&(c=a&~process.umask()),n||(n=null),t=o.resolve(t);try{u.mkdirSync(t,c),n=n||t}catch(f){switch(f.code){case"ENOENT":if(o.dirname(t)===t)throw f;n=r(o.dirname(t),e,n),r(t,e,n);break;default:var p;try{p=u.statSync(t)}catch(d){throw f}if(!p.isDirectory())throw f}}return n}var i=n(20),o=n(16),s=n(35).invalidWin32Path,a=parseInt("0777",8);t.exports=r},function(t,e,n){t.exports={copySync:n(38)}},function(t,e,n){function r(t,e,n){("function"==typeof n||n instanceof RegExp)&&(n={filter:n}),n=n||{},n.recursive=!!n.recursive,n.clobber="clobber"in n?!!n.clobber:!0,n.dereference="dereference"in n?!!n.dereference:!1,n.preserveTimestamps="preserveTimestamps"in n?!!n.preserveTimestamps:!1,n.filter=n.filter||function(){return!0};var c=n.recursive&&!n.dereference?i.lstatSync(t):i.statSync(t),u=o.dirname(e),l=i.existsSync(u),f=!1;if(c.isFile())n.filter instanceof RegExp?f=n.filter.test(t):"function"==typeof n.filter&&(f=n.filter(t)),f&&(l||a.mkdirsSync(u),s(t,e,{clobber:n.clobber,preserveTimestamps:n.preserveTimestamps}));else if(c.isDirectory()){i.existsSync(e)||a.mkdirsSync(e);var p=i.readdirSync(t);p.forEach(function(i){var s=n;s.recursive=!0,r(o.join(t,i),o.join(e,i),s)})}else if(n.recursive&&c.isSymbolicLink()){
var d=i.readlinkSync(t);i.symlinkSync(d,e)}}var i=n(20),o=n(16),s=n(39),a=n(33);t.exports=r},function(t,e,n){function r(t,e,n){var r=n.clobber,a=n.preserveTimestamps;if(i.existsSync(e)){if(!r)throw Error("EEXIST");i.chmodSync(e,parseInt("777",8)),i.unlinkSync(e)}for(var c=i.openSync(t,"r"),u=i.fstatSync(c),l=i.openSync(e,"w",u.mode),f=1,p=0;f>0;)f=i.readSync(c,s,0,o,p),i.writeSync(l,s,0,f),p+=f;a&&i.futimesSync(l,u.atime,u.mtime),i.closeSync(c),i.closeSync(l)}var i=n(20),o=65536,s=new Buffer(o);t.exports=r},function(t,e,n){function r(t){return o.sync(t)}function i(t,e){return e?o(t,e):o(t,function(){})}var o=n(41);t.exports={remove:i,removeSync:r}},function(t,e,n){function r(t){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(function(e){t[e]=t[e]||m[e],e+="Sync",t[e]=t[e]||m[e]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob=t.disableGlob||!1,t.glob=t.glob||y}function i(t,e,n){function i(t){c=c||t,0===--u&&n(c)}function s(t,r){return t?n(t):(u=r.length,0===u?n():void r.forEach(function(t){o(t,e,function n(r){if(r){if(b&&("EBUSY"===r.code||"ENOTEMPTY"===r.code||"EPERM"===r.code)&&a<e.maxBusyTries){a++;var s=100*a;return setTimeout(function(){o(t,e,n)},s)}if("EMFILE"===r.code&&g<e.emfileWait)return setTimeout(function(){o(t,e,n)},g++);"ENOENT"===r.code&&(r=null)}g=0,i(r)})}))}"function"==typeof e&&(n=e,e={}),d(t,"rimraf: missing path"),d.equal(typeof t,"string","rimraf: path should be a string"),d(e,"rimraf: missing options"),d.equal(typeof e,"object","rimraf: options should be object"),d.equal(typeof n,"function","rimraf: callback function required"),r(e);var a=0,c=null,u=0;return e.disableGlob||!v.hasMagic(t)?s(null,[t]):void m.lstat(t,function(n,r){return n?void v(t,e.glob,s):s(null,[t])})}function o(t,e,n){d(t),d(e),d("function"==typeof n),e.lstat(t,function(r,i){return r&&"ENOENT"===r.code?n(null):i&&i.isDirectory()?c(t,e,r,n):void e.unlink(t,function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return b?s(t,e,r,n):c(t,e,r,n);if("EISDIR"===r.code)return c(t,e,r,n)}return n(r)})})}function s(t,e,n,r){d(t),d(e),d("function"==typeof r),n&&d(n instanceof Error),e.chmod(t,666,function(i){i?r("ENOENT"===i.code?null:n):e.stat(t,function(i,o){i?r("ENOENT"===i.code?null:n):o.isDirectory()?c(t,e,n,r):e.unlink(t,r)})})}function a(t,e,n){d(t),d(e),n&&d(n instanceof Error);try{e.chmodSync(t,666)}catch(r){if("ENOENT"===r.code)return;throw n}try{var i=e.statSync(t)}catch(o){if("ENOENT"===o.code)return;throw n}i.isDirectory()?f(t,e,n):e.unlinkSync(t)}function c(t,e,n,r){d(t),d(e),n&&d(n instanceof Error),d("function"==typeof r),e.rmdir(t,function(i){!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?r(i&&"ENOTDIR"===i.code?n:i):u(t,e,r)})}function u(t,e,n){d(t),d(e),d("function"==typeof n),e.readdir(t,function(r,o){if(r)return n(r);var s=o.length;if(0===s)return e.rmdir(t,n);var a;o.forEach(function(r){i(h.join(t,r),e,function(r){return a?void 0:r?n(a=r):void(0===--s&&e.rmdir(t,n))})})})}function l(t,e){e=e||{},r(e),d(t,"rimraf: missing path"),d.equal(typeof t,"string","rimraf: path should be a string"),d(e,"rimraf: missing options"),d.equal(typeof e,"object","rimraf: options should be object");var n;if(e.disableGlob||!v.hasMagic(t))n=[t];else try{m.lstatSync(t),n=[t]}catch(i){n=v.sync(t,e.glob)}if(n.length)for(var o=0;o<n.length;o++){var t=n[o];try{var s=e.lstatSync(t)}catch(i){if("ENOENT"===i.code)return}try{s&&s.isDirectory()?f(t,e,null):e.unlinkSync(t)}catch(i){if("ENOENT"===i.code)return;if("EPERM"===i.code)return b?a(t,e,i):f(t,e,i);if("EISDIR"!==i.code)throw i;f(t,e,i)}}}function f(t,e,n){d(t),d(e),n&&d(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOENT"===r.code)return;if("ENOTDIR"===r.code)throw n;"ENOTEMPTY"!==r.code&&"EEXIST"!==r.code&&"EPERM"!==r.code||p(t,e)}}function p(t,e){d(t),d(e),e.readdirSync(t).forEach(function(n){l(h.join(t,n),e)}),e.rmdirSync(t,e)}t.exports=i,i.sync=l;var d=n(27),h=n(16),m=n(17),v=n(42),y={nosort:!0,silent:!0},g=0,b="win32"===process.platform},function(t,e,n){function r(t,e,n){if("function"==typeof e&&(n=e,e={}),e||(e={}),e.sync){if(n)throw new TypeError("callback provided to sync glob");return h(t,e)}return new o(t,e,n)}function i(t,e){if(null===e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function o(t,e,n){function r(){--s._processing,s._processing<=0&&(a?process.nextTick(function(){s._finish()}):s._finish())}if("function"==typeof e&&(n=e,e=null),e&&e.sync){if(n)throw new TypeError("callback provided to sync glob");return new E(t,e)}if(!(this instanceof o))return new o(t,e,n);v(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof n&&(n=S(n),this.on("error",n),this.on("end",function(t){n(null,t)}));var s=this,i=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(i),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return r();for(var a=!0,c=0;i>c;c++)this._process(this.minimatch.set[c],c,!1,r);a=!1}function s(t,e,n){return function(r,i){r?t._readdirError(e,r,n):t._readdirEntries(e,i,n)}}t.exports=r;var a=n(17),c=n(43),u=(c.Minimatch,n(47)),l=n(48).EventEmitter,f=n(16),p=n(27),d=n(49),h=n(50),m=n(51),v=(m.alphasort,m.alphasorti,m.setopts),y=m.ownProp,g=n(52),b=(n(26),m.childrenIgnored),w=m.isIgnored,S=n(54);r.sync=h;var E=r.GlobSync=h.GlobSync;r.glob=r,r.hasMagic=function(t,e){var n=i({},e);n.noprocess=!0;var r=new o(t,n),s=r.minimatch.set;if(s.length>1)return!0;for(var a=0;a<s[0].length;a++)if("string"!=typeof s[0][a])return!0;return!1},r.Glob=o,u(o,l),o.prototype._finish=function(){if(p(this instanceof o),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();m.finish(this),this.emit("end",this.found)}},o.prototype._realpath=function(){function t(){0===--e&&n._finish()}if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var n=this,r=0;r<this.matches.length;r++)this._realpathSet(r,t)}},o.prototype._realpathSet=function(t,e){var n=this.matches[t];if(!n)return e();var r=Object.keys(n),i=this,o=r.length;if(0===o)return e();var s=this.matches[t]=Object.create(null);r.forEach(function(n,r){n=i._makeAbs(n),a.realpath(n,i.realpathCache,function(r,a){r?"stat"===r.syscall?s[n]=!0:i.emit("error",r):s[a]=!0,0===--o&&(i.matches[t]=s,e())})})},o.prototype._mark=function(t){return m.mark(this,t)},o.prototype._makeAbs=function(t){return m.makeAbs(this,t)},o.prototype.abort=function(){this.aborted=!0,this.emit("abort")},o.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},o.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var n=t[e];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<r.length;e++){var i=r[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},o.prototype._process=function(t,e,n,r){if(p(this instanceof o),p("function"==typeof r),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([t,e,n,r]);for(var i=0;"string"==typeof t[i];)i++;var s;switch(i){case t.length:return void this._processSimple(t.join("/"),e,r);case 0:s=null;break;default:s=t.slice(0,i).join("/")}var a,u=t.slice(i);null===s?a=".":d(s)||d(t.join("/"))?(s&&d(s)||(s="/"+s),a=s):a=s;var l=this._makeAbs(a);if(b(this,a))return r();var f=u[0]===c.GLOBSTAR;f?this._processGlobStar(s,a,l,u,e,n,r):this._processReaddir(s,a,l,u,e,n,r)}},o.prototype._processReaddir=function(t,e,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(t,e,n,r,i,o,u,s)})},o.prototype._processReaddir2=function(t,e,n,r,i,o,s,a){if(!s)return a();for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,p=this.dot||"."===l.charAt(0),d=[],h=0;h<s.length;h++){var m=s[h];if("."!==m.charAt(0)||p){var v;v=u&&!t?!m.match(c):m.match(c),v&&d.push(m)}}var y=d.length;if(0===y)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;y>h;h++){var m=d[h];t&&(m="/"!==t?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=f.join(this.root,m)),this._emitMatch(i,m)}return a()}r.shift();for(var h=0;y>h;h++){var m=d[h];t&&(m="/"!==t?t+"/"+m:t+m),this._process([m].concat(r),i,o,a)}a()},o.prototype._emitMatch=function(t,e){if(!this.aborted&&!this.matches[t][e]&&!w(this,e)){if(this.paused)return void this._emitQueue.push([t,e]);var n=this._makeAbs(e);if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.mark&&(e=this._mark(e)),this.matches[t][e]=!0;var i=this.statCache[n];i&&this.emit("stat",e,i),this.emit("match",e)}},o.prototype._readdirInGlobStar=function(t,e){function n(n,r){if(n)return e();var o=r.isSymbolicLink();i.symlinks[t]=o,o||r.isDirectory()?i._readdir(t,!1,e):(i.cache[t]="FILE",e())}if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r="lstat\x00"+t,i=this,o=g(r,n);o&&a.lstat(t,o)}},o.prototype._readdir=function(t,e,n){if(!this.aborted&&(n=g("readdir\x00"+t+"\x00"+e,n))){if(e&&!y(this.symlinks,t))return this._readdirInGlobStar(t,n);if(y(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}a.readdir(t,s(this,t,n))}},o.prototype._readdirEntries=function(t,e,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,n(null,e)}},o.prototype._readdirError=function(t,e,n){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return n()}},o.prototype._processGlobStar=function(t,e,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(t,e,n,r,i,o,u,s)})},o.prototype._processGlobStar2=function(t,e,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,a);var f=this.symlinks[n],p=s.length;if(f&&o)return a();for(var d=0;p>d;d++){var h=s[d];if("."!==h.charAt(0)||this.dot){var m=u.concat(s[d],c);this._process(m,i,!0,a);var v=u.concat(s[d],r);this._process(v,i,!0,a)}}a()},o.prototype._processSimple=function(t,e,n){var r=this;this._stat(t,function(i,o){r._processSimple2(t,e,i,o,n)})},o.prototype._processSimple2=function(t,e,n,r,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!r)return i();if(t&&d(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=f.join(this.root,t):(t=f.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},o.prototype._stat=function(t,e){function n(n,i){return i&&i.isSymbolicLink()?a.stat(r,function(n,o){n?u._stat2(t,r,null,i,e):u._stat2(t,r,n,o,e)}):void u._stat2(t,r,n,i,e)}var r=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&y(this.cache,r)){var o=this.cache[r];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return e(null,o);if(i&&"FILE"===o)return e()}var s=this.statCache[r];if(void 0!==s){if(s===!1)return e(null,s);var c=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===c?e():e(null,c,s)}var u=this,l=g("stat\x00"+r,n);l&&a.lstat(r,l)},o.prototype._stat2=function(t,e,n,r,i){if(n)return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=r,"/"===e.slice(-1)&&!r.isDirectory())return i(null,!1,r);var s=r.isDirectory()?"DIR":"FILE";return this.cache[e]=this.cache[e]||s,o&&"DIR"!==s?i():i(null,s,r)}},function(t,e,n){function r(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function i(t,e){return e=e||{},function(n,r,i){return s(n,t,e)}}function o(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function s(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),n.nocomment||"#"!==e.charAt(0)?""===e.trim()?""===t:new a(e,n).match(t):!1}function a(t,e){if(!(this instanceof a))return new a(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==v.sep&&(t=t.split(v.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function c(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(k)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n}}function u(){var t=this.pattern,e=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,o=t.length;o>i&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}}function l(t,e){if(e||(e=this instanceof a?this.options:{}),t="undefined"==typeof t?this.pattern:t,"undefined"==typeof t)throw new Error("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:b(t)}function f(t,e){function n(){if(o){switch(o){case"*":a+=S,c=!0;break;case"?":a+=w,c=!0;break;default:a+="\\"+o}y.debug("clearStateChar %j %j",o,a),o=!1}}var r=this.options;if(!r.noglobstar&&"**"===t)return g;if(""===t)return"";for(var i,o,s,a="",c=!!r.nocase,u=!1,l=[],f=[],p=!1,d=-1,m=-1,v="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this,b=0,E=t.length;E>b&&(s=t.charAt(b));b++)if(this.debug("%s	%s %s %j",t,b,a,s),u&&x[s])a+="\\"+s,u=!1;else switch(s){case"/":return!1;case"\\":n(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,b,a,s),p){this.debug("  in class"),"!"===s&&b===m+1&&(s="^"),a+=s;continue}y.debug("call clearStateChar %j",o),n(),o=s,r.noext&&n();continue;case"(":if(p){a+="(";continue}if(!o){a+="\\(";continue}i=o,l.push({type:i,start:b-1,reStart:a.length}),a+="!"===o?"(?:(?!(?:":"(?:",this.debug("plType %j %j",o,a),o=!1;continue;case")":if(p||!l.length){a+="\\)";continue}n(),c=!0,a+=")";var _=l.pop();switch(i=_.type){case"!":f.push(_),a+=")[^/]*?)",_.reEnd=a.length;break;case"?":case"+":case"*":a+=i;break;case"@":}continue;case"|":if(p||!l.length||u){a+="\\|",u=!1;continue}n(),a+="|";continue;case"[":if(n(),p){a+="\\"+s;continue}p=!0,m=b,d=a.length,a+=s;continue;case"]":if(b===m+1||!p){a+="\\"+s,u=!1;continue}if(p){var k=t.substring(m+1,b);try{RegExp("["+k+"]")}catch(N){var j=this.parse(k,O);a=a.substr(0,d)+"\\["+j[0]+"\\]",c=c||j[1],p=!1;continue}}c=!0,p=!1,a+=s;continue;default:n(),u?u=!1:!x[s]||"^"===s&&p||(a+="\\"),a+=s}for(p&&(k=t.substr(m+1),j=this.parse(k,O),a=a.substr(0,d)+"\\["+j[0],c=c||j[1]),_=l.pop();_;_=l.pop()){var A=a.slice(_.reStart+3);A=A.replace(/((?:\\{2})*)(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",A,A);var L="*"===_.type?S:"?"===_.type?w:"\\"+_.type;c=!0,a=a.slice(0,_.reStart)+L+"\\("+A}n(),u&&(a+="\\\\");var F=!1;switch(a.charAt(0)){case".":case"[":case"(":F=!0}for(var T=f.length-1;T>-1;T--){var R=f[T],I=a.slice(0,R.reStart),z=a.slice(R.reStart,R.reEnd-8),D=a.slice(R.reEnd-8,R.reEnd),C=a.slice(R.reEnd);D+=C;var M=I.split("(").length-1,P=C;for(b=0;M>b;b++)P=P.replace(/\)[+*?]?/,"");C=P;var q="";""===C&&e!==O&&(q="$");var G=I+z+C+q+D;a=G}if(""!==a&&c&&(a="(?=.)"+a),F&&(a=v+a),e===O)return[a,c];if(!c)return h(t);var B=r.nocase?"i":"",Q=new RegExp("^"+a+"$",B);return Q._glob=t,Q._src=a,Q}function p(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?S:e.dot?E:_,r=e.nocase?"i":"",i=t.map(function(t){return t.map(function(t){return t===g?n:"string"==typeof t?m(t):t._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(o){this.regexp=!1}return this.regexp}function d(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==v.sep&&(t=t.split(v.sep).join("/")),t=t.split(k),this.debug(this.pattern,"split",t);var r=this.set;this.debug(this.pattern,"set",r);var i,o;for(o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<r.length;o++){var s=r[o],a=t;n.matchBase&&1===s.length&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}function h(t){return t.replace(/\\(.)/g,"$1")}function m(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}t.exports=s,s.Minimatch=a;var v={sep:"/"};try{v=n(16)}catch(y){}var g=s.GLOBSTAR=a.GLOBSTAR={},b=n(44),w="[^/]",S=w+"*?",E="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",_="(?:(?!(?:\\/|^)\\.).)*?",x=r("().*{}+?[]^$\\!"),k=/\/+/;s.filter=i,s.defaults=function(t){if(!t||!Object.keys(t).length)return s;var e=s,n=function(n,r,i){return e.minimatch(n,r,o(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,o(t,r))},n},a.defaults=function(t){return t&&Object.keys(t).length?s.defaults(t).Minimatch:a},a.prototype.debug=function(){},a.prototype.make=c,a.prototype.parseNegate=u,s.braceExpand=function(t,e){return l(t,e)},a.prototype.braceExpand=l,a.prototype.parse=f;var O={};s.makeRe=function(t,e){return new a(t,e||{}).makeRe()},a.prototype.makeRe=p,s.match=function(t,e,n){n=n||{};var r=new a(e,n);return t=t.filter(function(t){return r.match(t)}),r.options.nonull&&!t.length&&t.push(e),t},a.prototype.match=d,a.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{"this":this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;s>i&&a>o;i++,o++){this.debug("matchOne loop");var c=e[o],u=t[i];if(this.debug(e,c,u),c===!1)return!1;if(c===g){this.debug("GLOBSTAR",[e,c,u]);var l=i,f=o+1;if(f===a){for(this.debug("** at the end");s>i;i++)if("."===t[i]||".."===t[i]||!r.dot&&"."===t[i].charAt(0))return!1;return!0}for(;s>l;){var p=t[l];if(this.debug("\nglobstar while",t,l,e,f,p),this.matchOne(t.slice(l),e.slice(f),n))return this.debug("globstar found match!",l,s,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,l,e,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",t,l,e,f),l!==s))}var d;if("string"==typeof c?(d=r.nocase?u.toLowerCase()===c.toLowerCase():u===c,this.debug("string match",c,u,d)):(d=u.match(c),this.debug("pattern match",c,u,d)),!d)return!1}if(i===s&&o===a)return!0;if(i===s)return n;if(o===a){var h=i===s-1&&""===t[i];return h}throw new Error("wtf?")}},function(t,e,n){function r(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function i(t){return t.split("\\\\").join(m).split("\\{").join(v).split("\\}").join(y).split("\\,").join(g).split("\\.").join(b)}function o(t){return t.split(m).join("\\").split(v).join("{").split(y).join("}").split(g).join(",").split(b).join(".")}function s(t){if(!t)return[""];var e=[],n=h("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,o=n.post,a=r.split(",");a[a.length-1]+="{"+i+"}";var c=s(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}function a(t){return t?p(i(t),!0).map(o):[]}function c(t){return"{"+t+"}"}function u(t){return/^-?0\d/.test(t)}function l(t,e){return e>=t}function f(t,e){return t>=e}function p(t,e){var n=[],i=h("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),m=o||a,v=/^(.*,)+(.+)?$/.test(i.body);if(!m&&!v)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+y+i.post,p(t)):[t];var g;if(m)g=i.body.split(/\.\./);else if(g=s(i.body),1===g.length&&(g=p(g[0],!1).map(c),1===g.length)){var b=i.post.length?p(i.post,!1):[""];return b.map(function(t){return i.pre+g[0]+t})}var w,S=i.pre,b=i.post.length?p(i.post,!1):[""];if(m){var E=r(g[0]),_=r(g[1]),x=Math.max(g[0].length,g[1].length),k=3==g.length?Math.abs(r(g[2])):1,O=l,N=E>_;N&&(k*=-1,O=f);var j=g.some(u);w=[];for(var A=E;O(A,_);A+=k){var L;if(a)L=String.fromCharCode(A),"\\"===L&&(L="");else if(L=String(A),j){var F=x-L.length;if(F>0){var T=new Array(F+1).join("0");L=0>A?"-"+T+L.slice(1):T+L}}w.push(L)}}else w=d(g,function(t){return p(t,!1)});for(var R=0;R<w.length;R++)for(var I=0;I<b.length;I++){var z=S+w[R]+b[I];(!e||m||z)&&n.push(z)}return n}var d=n(45),h=n(46);t.exports=a;var m="\x00SLASH"+Math.random()+"\x00",v="\x00OPEN"+Math.random()+"\x00",y="\x00CLOSE"+Math.random()+"\x00",g="\x00COMMA"+Math.random()+"\x00",b="\x00PERIOD"+Math.random()+"\x00"},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e){function n(t,e,n){t instanceof RegExp&&(t=r(t,n)),e instanceof RegExp&&(e=r(e,n));var o=i(t,e,n);return o&&{start:o[0],end:o[1],pre:n.slice(0,o[0]),body:n.slice(o[0]+t.length,o[1]),post:n.slice(o[1]+e.length)}}function r(t,e){var n=e.match(t);return n?n[0]:null}function i(t,e,n){var r,i,o,s,a,c=n.indexOf(t),u=n.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l<n.length&&l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(t,l+1)):1==r.length?a=[r.pop(),u]:(i=r.pop(),o>i&&(o=i,s=u),u=n.indexOf(e,l+1)),l=u>c&&c>=0?c:u;r.length&&(a=[o,s])}return a}t.exports=n,n.range=i},function(t,e,n){t.exports=n(26).inherits},function(t,e){t.exports=require("events")},function(t,e){"use strict";function n(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,n=e.exec(t),r=n[1]||"",i=!!r&&":"!==r.charAt(1);return!!n[2]||i}t.exports="win32"===process.platform?r:n,t.exports.posix=n,t.exports.win32=r},function(t,e,n){function r(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new i(t,e).found}function i(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof i))return new i(t,e);if(f(this,t,e),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;n>r;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}t.exports=r,r.GlobSync=i;var o=n(17),s=n(43),a=(s.Minimatch,n(42).Glob,n(26),n(16)),c=n(27),u=n(49),l=n(51),f=(l.alphasort,l.alphasorti,l.setopts),p=l.ownProp,d=l.childrenIgnored;i.prototype._finish=function(){if(c(this instanceof i),this.realpath){var t=this;this.matches.forEach(function(e,n){var r=t.matches[n]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=o.realpathSync(i,t.realpathCache);r[s]=!0}catch(a){if("stat"!==a.syscall)throw a;r[t._makeAbs(i)]=!0}})}l.finish(this)},i.prototype._process=function(t,e,n){c(this instanceof i);for(var r=0;"string"==typeof t[r];)r++;var o;switch(r){case t.length:return void this._processSimple(t.join("/"),e);case 0:o=null;break;default:o=t.slice(0,r).join("/")}var a,l=t.slice(r);null===o?a=".":u(o)||u(t.join("/"))?(o&&u(o)||(o="/"+o),a=o):a=o;var f=this._makeAbs(a);if(!d(this,a)){var p=l[0]===s.GLOBSTAR;p?this._processGlobStar(o,a,f,l,e,n):this._processReaddir(o,a,f,l,e,n)}},i.prototype._processReaddir=function(t,e,n,r,i,o){var s=this._readdir(n,o);if(s){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,f=this.dot||"."===l.charAt(0),p=[],d=0;d<s.length;d++){var h=s[d];if("."!==h.charAt(0)||f){var m;m=u&&!t?!h.match(c):h.match(c),m&&p.push(h)}}var v=p.length;if(0!==v)if(1!==r.length||this.mark||this.stat){r.shift();for(var d=0;v>d;d++){var y,h=p[d];y=t?[t,h]:[h],this._process(y.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;v>d;d++){var h=p[d];t&&(h="/"!==t.slice(-1)?t+"/"+h:t+h),"/"!==h.charAt(0)||this.nomount||(h=a.join(this.root,h)),this.matches[i][h]=!0}}}},i.prototype._emitMatch=function(t,e){this._makeAbs(e);if(this.mark&&(e=this._mark(e)),!this.matches[t][e]){if(this.nodir){var n=this.cache[this._makeAbs(e)];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}},i.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,n;try{n=o.lstatSync(t)}catch(r){return null}var i=n.isSymbolicLink();return this.symlinks[t]=i,i||n.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},i.prototype._readdir=function(t,e){if(e&&!p(this.symlinks,t))return this._readdirInGlobStar(t);if(p(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,o.readdirSync(t))}catch(r){return this._readdirError(t,r),null}},i.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var r=e[n];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,e},i.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=e.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},i.prototype._processGlobStar=function(t,e,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,f=this.symlinks[n];if(!f||!o)for(var p=0;l>p;p++){var d=s[p];if("."!==d.charAt(0)||this.dot){var h=c.concat(s[p],a);this._process(h,i,!0);var m=c.concat(s[p],r);this._process(m,i,!0)}}}},i.prototype._processSimple=function(t,e){var n=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),n){if(t&&u(t)&&!this.nomount){var r=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),r&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this.matches[e][t]=!0}},i.prototype._stat=function(t){var e=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&p(this.cache,e)){var r=this.cache[e];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[e];if(!i){var s;try{s=o.lstatSync(e)}catch(a){return!1}if(s.isSymbolicLink())try{i=o.statSync(e)}catch(a){i=s}else i=s}this.statCache[e]=i;var r=i.isDirectory()?"DIR":"FILE";return this.cache[e]=this.cache[e]||r,n&&"DIR"!==r?!1:r},i.prototype._mark=function(t){return l.mark(this,t)},i.prototype._makeAbs=function(t){return l.makeAbs(this,t)}},function(t,e,n){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function o(t,e){return t.localeCompare(e)}function s(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(a))}function a(t){var e=null;if("/**"===t.slice(-3)){var n=t.replace(/(\/\*\*)+$/,"");e=new y(n,{dot:!0})}return{matcher:new y(t,{dot:!0}),gmatcher:e}}function c(t,e,n){if(n||(n={}),n.matchBase&&-1===e.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!n.silent,t.pattern=e,t.strict=n.strict!==!1,t.realpath=!!n.realpath,t.realpathCache=n.realpathCache||Object.create(null),t.follow=!!n.follow,t.dot=!!n.dot,t.mark=!!n.mark,t.nodir=!!n.nodir,t.nodir&&(t.mark=!0),t.sync=!!n.sync,t.nounique=!!n.nounique,t.nonull=!!n.nonull,t.nosort=!!n.nosort,t.nocase=!!n.nocase,t.stat=!!n.stat,t.noprocess=!!n.noprocess,t.maxLength=n.maxLength||1/0,t.cache=n.cache||Object.create(null),t.statCache=n.statCache||Object.create(null),t.symlinks=n.symlinks||Object.create(null),s(t,n),t.changedCwd=!1;var i=process.cwd();r(n,"cwd")?(t.cwd=h.resolve(n.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=n.root||h.resolve(t.cwd,"/"),t.root=h.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=f(t,t.cwd),t.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,t.minimatch=new y(e,n),t.options=t.minimatch.options}function u(t){for(var e=t.nounique,n=e?[]:Object.create(null),r=0,s=t.matches.length;s>r;r++){var a=t.matches[r];if(a&&0!==Object.keys(a).length){var c=Object.keys(a);e?n.push.apply(n,c):c.forEach(function(t){n[t]=!0})}else if(t.nonull){var u=t.minimatch.globSet[r];e?n.push(u):n[u]=!0}}if(e||(n=Object.keys(n)),t.nosort||(n=n.sort(t.nocase?i:o)),t.mark){for(var r=0;r<n.length;r++)n[r]=t._mark(n[r]);t.nodir&&(n=n.filter(function(e){var n=!/\/$/.test(e),r=t.cache[e]||t.cache[f(t,e)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}t.ignore.length&&(n=n.filter(function(e){return!p(t,e)})),t.found=n}function l(t,e){var n=f(t,e),r=t.cache[n],i=e;if(r){var o="DIR"===r||Array.isArray(r),s="/"===e.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=f(t,i);t.statCache[a]=t.statCache[n],t.cache[a]=t.cache[n]}}return i}function f(t,e){var n=e;return n="/"===e.charAt(0)?h.join(t.root,e):v(e)||""===e?e:t.changedCwd?h.resolve(t.cwd,e):h.resolve(e),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(t,e){return t.ignore.length?t.ignore.some(function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}):!1}function d(t,e){return t.ignore.length?t.ignore.some(function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}):!1}e.alphasort=o,e.alphasorti=i,e.setopts=c,e.ownProp=r,e.makeAbs=f,e.finish=u,e.mark=l,e.isIgnored=p,e.childrenIgnored=d;var h=n(16),m=n(43),v=n(49),y=m.Minimatch},function(t,e,n){function r(t,e){return a[t]?(a[t].push(e),null):(a[t]=[e],i(t))}function i(t){return c(function e(){for(var n=a[t],r=n.length,i=o(arguments),s=0;r>s;s++)n[s].apply(null,i);n.length>r?(n.splice(0,r),process.nextTick(function(){e.apply(null,i)})):delete a[t]})}function o(t){for(var e=t.length,n=[],r=0;e>r;r++)n[r]=t[r];return n}var s=n(53),a=Object.create(null),c=n(54);t.exports=s(r)},function(t,e){function n(t,e){function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(t){r[t]=i[t]}),r}if(t&&e)return n(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}t.exports=n},function(t,e,n){function r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}var i=n(53);t.exports=i(r),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},function(t,e,n){var r=n(56);r.outputJsonSync=n(58),r.outputJson=n(59),r.outputJSONSync=n(58),r.outputJSON=n(59),t.exports=r},function(t,e,n){var r=n(57);t.exports={readJson:r.readFile,readJSON:r.readFile,readJsonSync:r.readFileSync,readJSONSync:r.readFileSync,writeJson:r.writeFile,writeJSON:r.writeFile,writeJsonSync:r.writeFileSync,writeJSONSync:r.writeFileSync,spaces:2}},function(t,e,n){function r(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e}),e=e||{};var r=e.fs||c,i=!0;"passParsingErrors"in e?i=e.passParsingErrors:"throws"in e&&(i=e["throws"]),r.readFile(t,e,function(r,o){if(r)return n(r);o=a(o);var s;try{s=JSON.parse(o,e?e.reviver:null)}catch(c){return i?(c.message=t+": "+c.message,n(c)):n(null,null)}n(null,s)})}function i(t,e){e=e||{},"string"==typeof e&&(e={
encoding:e});var n=e.fs||c,r=!0;"passParsingErrors"in e?r=e.passParsingErrors:"throws"in e&&(r=e["throws"]);var i=n.readFileSync(t,e);i=a(i);try{return JSON.parse(i,e.reviver)}catch(o){if(r)throw o.message=t+": "+o.message,o;return null}}function o(t,e,n,r){null==r&&(r=n,n={}),n=n||{};var i=n.fs||c,o="object"==typeof n&&null!==n&&"spaces"in n?n.spaces:this.spaces,s="";try{s=JSON.stringify(e,n?n.replacer:null,o)+"\n"}catch(a){if(r)return r(a,null)}i.writeFile(t,s,n,r)}function s(t,e,n){n=n||{};var r=n.fs||c,i="object"==typeof n&&null!==n&&"spaces"in n?n.spaces:this.spaces,o=JSON.stringify(e,n.replacer,i)+"\n";return r.writeFileSync(t,o,n)}function a(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var c=n(17),u={spaces:null,readFile:r,readFileSync:i,writeFile:o,writeFileSync:s};t.exports=u},function(t,e,n){function r(t,e,n){var r=o.dirname(t);i.existsSync(r)||a.mkdirsSync(r),s.writeJsonSync(t,e,n)}var i=n(20),o=n(16),s=n(56),a=n(33);t.exports=r},function(t,e,n){function r(t,e,n,r){"function"==typeof n&&(r=n,n={});var c=o.dirname(t);i.exists(c,function(i){return i?s.writeJson(t,e,n,r):void a.mkdirs(c,function(i){return i?r(i):void s.writeJson(t,e,n,r)})})}var i=n(20),o=n(16),s=n(56),a=n(33);t.exports=r},function(t,e,n){function r(t,e,n,o){function s(){f(u.dirname(e),function(t){return t?o(t):void c()})}function c(){d?a.rename(t,e,function(s){return s?"ENOTEMPTY"===s.code||"EEXIST"===s.code?void l(e,function(i){return i?o(i):(n.clobber=!1,void r(t,e,n,o))}):"EPERM"===s.code?void setTimeout(function(){l(e,function(i){return i?o(i):(n.clobber=!1,void r(t,e,n,o))})},200):"EXDEV"!==s.code?o(s):void i(t,e,d,h,o):o()}):a.link(t,e,function(n){return n?"EXDEV"===n.code||"EISDIR"===n.code||"EPERM"===n.code?void i(t,e,d,h,o):void o(n):void a.unlink(t,o)})}"function"==typeof n&&(o=n,n={});var p="mkdirp"in n?n.mkdirp:!0,d="clobber"in n?n.clobber:!1,h=n.limit||16;p?s():c()}function i(t,e,n,r,i){a.stat(t,function(a,c){return a?void i(a):void(c.isDirectory()?s(t,e,n,r,i):o(t,e,n,r,i))})}function o(t,e,n,r,i){function o(){a.unlink(t,i)}var c=n?"w":"wx",u=a.createReadStream(t),l=a.createWriteStream(e,{flags:c});u.on("error",function(c){u.destroy(),l.destroy(),l.removeListener("close",o),a.unlink(e,function(){"EISDIR"===c.code||"EPERM"===c.code?s(t,e,n,r,i):i(c)})}),l.on("error",function(t){u.destroy(),l.destroy(),l.removeListener("close",o),i(t)}),l.once("close",o),u.pipe(l)}function s(t,e,n,r,i){function o(){c(t,e,s,function(e){return e?i(e[0]):void l(t,i)})}var s={stopOnErr:!0,clobber:!1,limit:r};n?l(e,function(t){return t?i(t):void o()}):o()}var a=n(20),c=n(30),u=n(16),l=n(41),f=n(33).mkdirs;t.exports={move:r}},function(t,e,n){function r(t,e){e=e||function(){},o.readdir(t,function(n,r){function i(){var t=r.pop();return t?void c.remove(t,function(t){return t?e(t):void i()}):e()}return n?a.mkdirs(t,e):(r=r.map(function(e){return s.join(t,e)}),void i())})}function i(t){var e;try{e=o.readdirSync(t)}catch(n){return a.mkdirsSync(t)}e.forEach(function(e){e=s.join(t,e),c.removeSync(e)})}var o=n(17),s=n(16),a=n(33),c=n(40);t.exports={emptyDirSync:i,emptydirSync:i,emptyDir:r,emptydir:r}},function(t,e,n){var r=n(63),i=n(64),o=n(65);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,n){function r(t,e){function n(){s.writeFile(t,"",function(t){return t?e(t):void e()})}s.exists(t,function(r){if(r)return e();var i=o.dirname(t);s.exists(i,function(t){return t?n():void a.mkdirs(i,function(t){return t?e(t):void n()})})})}function i(t){if(!s.existsSync(t)){var e=o.dirname(t);s.existsSync(e)||a.mkdirsSync(e),s.writeFileSync(t,"")}}var o=n(16),s=n(20),a=n(33);t.exports={createFile:r,createFileSync:i,ensureFile:r,ensureFileSync:i}},function(t,e,n){function r(t,e,n){function r(t,e){s.link(t,e,function(t){return t?n(t):void n(null)})}s.exists(e,function(i){return i?n(null):void s.lstat(t,function(i,c){if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);var u=o.dirname(e);s.exists(u,function(i){return i?r(t,e):void a.mkdirs(u,function(i){return i?n(i):void r(t,e)})})})})}function i(t,e,n){var r=s.existsSync(e);if(!r){try{s.lstatSync(t)}catch(i){throw i.message=i.message.replace("lstat","ensureLink"),i}var c=o.dirname(e),u=s.existsSync(c);return u?s.linkSync(t,e):(a.mkdirsSync(c),s.linkSync(t,e))}}var o=n(16),s=n(20),a=n(33);t.exports={createLink:r,createLinkSync:i,ensureLink:r,ensureLinkSync:i}},function(t,e,n){function r(t,e,n,r){r="function"==typeof n?n:r,n="function"==typeof n?!1:n,s.exists(e,function(i){return i?r(null):void f(t,e,function(i,a){return i?r(i):(t=a.toDst,void h(a.toCwd,n,function(n,i){if(n)return r(n);var a=o.dirname(e);s.exists(a,function(n){return n?s.symlink(t,e,i,r):void c(a,function(n){return n?r(n):void s.symlink(t,e,i,r)})})}))})})}function i(t,e,n,r){r="function"==typeof n?n:r,n="function"==typeof n?!1:n;var i=s.existsSync(e);if(!i){var a=p(t,e);t=a.toDst,n=m(a.toCwd,n);var c=o.dirname(e),l=s.existsSync(c);return l?s.symlinkSync(t,e,n):(u(c),s.symlinkSync(t,e,n))}}var o=n(16),s=n(20),a=n(33),c=a.mkdirs,u=a.mkdirsSync,l=n(66),f=l.symlinkPaths,p=l.symlinkPathsSync,d=n(67),h=d.symlinkType,m=d.symlinkTypeSync;t.exports={createSymlink:r,createSymlinkSync:i,ensureSymlink:r,ensureSymlinkSync:i}},function(t,e,n){function r(t,e,n){if(o.isAbsolute(t))return s.lstat(t,function(e,r){return e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t})});var r=o.dirname(e),i=o.join(r,t);return s.exists(i,function(e){return e?n(null,{toCwd:i,toDst:t}):s.lstat(t,function(e,i){return e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:o.relative(r,t)})})})}function i(t,e){var n;if(o.isAbsolute(t)){if(n=s.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}var r=o.dirname(e),i=o.join(r,t);if(n=s.existsSync(i))return{toCwd:i,toDst:t};if(n=s.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:o.relative(r,t)}}var o=n(16);o.isAbsolute=o.isAbsolute?o.isAbsolute:n(49);var s=n(20);t.exports={symlinkPaths:r,symlinkPathsSync:i}},function(t,e,n){function r(t,e,n){return n="function"==typeof e?e:n,(e="function"==typeof e?!1:e)?n(null,e):void o.lstat(t,function(t,r){return t?n(null,"file"):(e=r&&r.isDirectory()?"dir":"file",void n(null,e))})}function i(t,e){if(e)return e;try{var n=o.lstatSync(t)}catch(r){return"file"}return n&&n.isDirectory()?"dir":"file"}var o=n(20);t.exports={symlinkType:r,symlinkTypeSync:i}},function(t,e,n){function r(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");var i=o.dirname(t);s.exists(i,function(o){return o?s.writeFile(t,e,n,r):void a.mkdirs(i,function(i){return i?r(i):void s.writeFile(t,e,n,r)})})}function i(t,e,n){var r=o.dirname(t);return s.existsSync(r)?s.writeFileSync.apply(s,arguments):(a.mkdirsSync(r),void s.writeFileSync.apply(s,arguments))}var o=n(16),s=n(20),a=n(33);t.exports={outputFile:r,outputFileSync:i}},function(t,e,n){var r=n(70);t.exports={walk:r}},function(t,e,n){function r(t,e){o.strictEqual(typeof t,"string","`dir` parameter should be of type string. Got type: "+typeof t);var n={objectMode:!0},r={queueMethod:"shift",pathSorter:void 0};e=l(r,e,n),c.call(this,e),this.root=a.resolve(t),this.paths=[this.root],this.options=e,this.fs=e.fs||s}function i(t,e){return new r(t,e)}var o=n(27),s=n(17),a=n(16),c=n(25).Readable,u=n(26),l=n(71);u.inherits(r,c),r.prototype._read=function(){if(0===this.paths.length)return this.push(null);var t=this,e=this.paths[this.options.queueMethod]();t.fs.lstat(e,function(n,r){var i={path:e,stats:r};return n?t.emit("error",n,i):r.isDirectory()?void t.fs.readdir(e,function(n,r){return n?(t.push(i),t.emit("error",n,i)):(r=r.map(function(t){return a.join(e,t)}),t.options.pathSorter&&r.sort(t.options.pathSorter),r.forEach(function(e){t.paths.push(e)}),void t.push(i))}):t.push(i)})},t.exports=i},function(t,e){function n(){var t=[].slice.call(arguments).filter(function(t){return t}),e=t.shift();return t.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}t.exports=Object.assign||n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){console.log(t)}function o(t){return this.pngFile="",void 0!=t&&(s(t)?(this.pngFile=l["default"].resolve(t),this.tempFile=this.allocTemp()):console.error("file not exist:"+t)),this}function s(t){try{h["default"].accessSync(t,h["default"].R_OK|h["default"].W_OK)}catch(e){return console.error(e),!1}return!0}var a=n(73),c=r(a),u=n(16),l=r(u),f=n(32),p=r(f),d=n(17),h=r(d),m=n(18),y=r(m),g=c["default"].exec;window.child_process=c["default"],window.exec=g,window.os=p["default"],i.err=function(t){console.error(t)},i.info=function(t){console.info(t)},i.test=function(t){console.info(t)},window.LimitPNG=o,o.prototype.doDefault=function(t,e,n){"limit"==e?this["do"]([b.truePNG(1),b.pngout(2),b.pngwolf(1),b.zopflipng(1)],t,n):"high"==e?this["do"]([b.pngwolf(1),b.ect(0)],t,n):"quick"==e?this["do"]([b.ect(0)],t,n):"256-high"==e?this["do"]([b.pngquant(22,!0),b.truePNG(1),b.pngout(2),b.pngwolf(1),b.zopflipng(1)],t,n):"256-low"==e?this["do"]([b.pngquant(24,!0),b.truePNG(1),b.pngout(2),b.pngwolf(1),b.zopflipng(1)],t,n):"256-lowest"==e?this["do"]([b.pngquant(25,!0),b.truePNG(1),b.pngout(0,!0),b.pngwolf(1),b.zopflipng(1)],t,n):"lossy-high"==e?this["do"]([b.pngquant(26,!0),b.truePNG(1),b.pngout(0,!0),b.pngwolf(1),b.zopflipng(1)],t,n):"lossy-low"==e?this["do"]([b.pngquant(27,!0),b.truePNG(1),b.pngout(0,!0),b.pngwolf(1),b.zopflipng(1)],t,n):"lossy-quick"==e&&this["do"]([b.pngquant(26,!0),b.ect(0)],t,n)},o.prototype.doDefaultLossy=function(){this["do"]([b.pngquant(3,!0),b.truePNG(1),b.pngout(2),b.pngwolf(1),b.zopflipng(1)])},o.prototype["do"]=function(t,e,n){function r(t,e,n,r,o){try{i(n+" ===================================");var u='"'+l["default"].resolve(".\\resources\\tools\\"+t.exeName)+'" '+t.cmd(e);i("do_cmd "+n+" : "+u);var f=c["default"].exec(u,{timeout:3654321},function(o,s,c){i.test("sout:"+n+"\n"+s),void 0!=o&&console.error("serror:"+n+"\n"+o),a=a+"->["+t.exeName+" : "+getFileSize(e)+"]",i("sizeLog:"+n+"\n"+a),r(n)});f.stdout.on("data",function(t){i.test("stdout: "+t)})}catch(p){i("catch-e:"),i.err(p),a=a+"->["+t.exeName+" : "+getFileSize(e)+"]",i("sizeLog:"+n+"\n"+a),1!=s(e)&&o(n)}}var o=this,a="";if(void 0==t)return null;try{y["default"].copySync(this.pngFile,this.tempFile)}catch(u){return console.error(u),null}for(var f=this.tempFile,p=this.pngFile,d=getFileSize(f),m=Date.now(),g=[],b=function(e){i(e+"--发出");var n=o.tempFile;0==e?g[e]=new Promise(function(i,o){r(t[e],n,e,i,o)}):g[e]=new Promise(function(i,o){g[e-1].then(function(s){r(t[e],n,e,i,o)})})},w=0;w<t.length;w++)b(w);g[g.length-1].then(function(t){var r=getFileSize(f),o=Date.now()-m,c="";if(r>d&&(r=d,f=p),"-overwrite"==e)try{h["default"].createReadStream(f).pipe(h["default"].createWriteStream(p))}catch(u){return console.error(u),c="无法写入到原文件。"+u,n(p,d,r,o,c),null}else if("-suffix"==e){var y=l["default"].join(l["default"].dirname(p),l["default"].parse(p).name+("_lim["+v.mode+"].png"));try{h["default"].createReadStream(f).pipe(h["default"].createWriteStream(y))}catch(u){return console.error(u),c="无法写入到文件 -suffix。"+u,n(y,d,r,o,c),null}}else if(s(e)){var y=l["default"].join(e,l["default"].parse(p).base);try{h["default"].createReadStream(f).pipe(h["default"].createWriteStream(y))}catch(u){return console.error(u),c="无法写入到文件 -out。"+u,n(y,d,r,o,c),null}}return i("sizeLog:\n"+a),i("DONE==================================="),n(y,d,r,o,c,a),0})},o.prototype.allocTemp=function(){var t=p["default"].tmpdir();return t=l["default"].join(t,"limitPNG_temp"),0==s(t)&&h["default"].mkdirSync(t),0==s(t)?(console.error("无法创建临时文件夹 ："+t),null):t=l["default"].join(t,Date.now()+"_"+l["default"].basename(this.pngFile))},o.prototype.getPngColorInfo=function(){try{var t=c["default"].execSync('"'+l["default"].resolve(".\\resources\\tools\\pngout.exe")+'" -l "'+this.pngFile+'"')}catch(e){return console.error(e),null}var n=/c./.exec(String(t));if(null!=n)switch(n[0]){case"c0":return{code:0,color:"Gray"};case"c1":return{code:2,color:"RGB"};case"c3":return{code:3,color:"pal"};case"c4":return{code:4,color:"Gray+Alpha"};case"c6":return{code:6,color:"RGB+Alpha"}}return null};var b={};window.PROCE=b,b.truePNG=function(t,e){var n={};return e?n.op=b.truePNG.lossyOps[t].op:n.op=b.truePNG.lossLessOps[t].op,n.cmd=function(t){return' "'+t+'" '+n.op},n.exeName="TruePNG.exe",n},b.truePNG.lossLessOps=[{op:"-f0,5 -i0 -g0 -md remove all -zc8 -zm8 -zw7 -zs0,1 -quiet -force -y",name:"指定最佳"},{op:"-o max -quiet",name:"自动最佳"}],b.truePNG.lossyOps=[{op:"-f0,5 -i0 -g0 -md remove all -zc8 -zm8 -zw7 -zs0,1 -quiet -force -y",name:""}],b.pngout=function(t,e){var n={};return e?n.op=b.pngout.lossyOps[t].op:n.op=b.pngout.lossLessOps[t].op,n.cmd=function(t){return' "'+t+'" '+n.op},n.exeName="pngout.exe",n},b.pngout.lossLessOps=[{op:"-f5 -s0 -k0 -q -y -force",name:"RGBA 最佳"},{op:"-f0 -s0 -k0 -q -y -force",name:"pal 最佳"},{op:"",name:"自动最佳"}],b.pngout.lossyOps=[{op:"-c3 -quiet",name:"减色"}],b.cryopng=function(t,e){var n={};return e?n.op=b.cryopng.lossyOps[t].op:n.op=b.cryopng.lossLessOps[t].op,n.cmd=function(t){return' "'+t+'" '+n.op},n.exeName="cryopng.exe",n},b.cryopng.lossLessOps=[{op:"-f1 -force -quiet -i0 -zc1 -zm1 -zs3 -zw32k -nx ",name:"RGBA 最佳"},{op:"-o7 -force ",name:"自动最佳"},{op:"",name:"自动"}],b.cryopng.lossyOps=[],b.pngwolf=function(t,e){var n={};return e?n.op=b.pngwolf.lossyOps[t].op:n.op=b.pngwolf.lossLessOps[t].op,n.cmd=function(t){return'--in="'+t+'" --out="'+t+'" '+n.op},n.exeName="pngwolf.exe",n},b.pngwolf.lossLessOps=[{op:"--zlib-level=8 --zlib-strategy=1 --exclude-original --exclude-singles --exclude-heuristic --max-evaluations=1",name:"RGB 最佳"},{op:"",name:"自动最佳"}],b.pngwolf.lossyOps=[],b.zopflipng=function(t,e){var n={};return e?n.op=b.zopflipng.lossyOps[t].op:n.op=b.zopflipng.lossLessOps[t].op,n.cmd=function(t){return n.op+' "'+t+'"  "'+t+'" '},n.exeName="zopflipng.exe",n},b.zopflipng.lossLessOps=[{op:"-y --iterations=35 --filters=01234mepb",name:"多次重最佳"},{op:"-m -y",name:"自动最佳"}],b.zopflipng.lossyOps=[],b.pngquant=function(t,e){var n={};return e?n.op=b.pngquant.lossyOps[t].op:n.op=b.pngquant.lossLessOps[t].op,n.cmd=function(t){return'-o "'+t+' " '+n.op+' "'+t+'"'},n.exeName="pngquant.exe",n},b.pngquant.lossLessOps=[],b.pngquant.lossyOps=[{op:" --force --speed 1 --quality 0-1 ",name:"Q0"},{op:" --force --speed 1 --quality 0-10 ",name:"Q10"},{op:" --force --speed 1 --quality 20-30 ",name:"Q30"},{op:" --force --speed 1 --quality 10-20 ",name:"Q20"},{op:" --force --speed 1 --quality 30-40 ",name:"Q40"},{op:" --force --speed 1 --quality 40-50 ",name:"Q50"},{op:" --force --speed 1 --quality 50-60 ",name:"Q60"},{op:" --force --speed 1 --quality 60-70 ",name:"Q70"},{op:" --force --speed 1 --quality 70-80 ",name:"Q80"},{op:" --force --speed 1 --quality 80-90 ",name:"Q90"},{op:" --force --speed 1 --quality 90-100 ",name:"Q100"},{op:" --force --speed 1 --quality 0-1 256",name:"256-Q0"},{op:" --force --speed 1 --quality 0-10 256",name:"256-Q10"},{op:" --force --speed 1 --quality 20-30 256",name:"256-Q30"},{op:" --force --speed 1 --quality 10-20 256",name:"256-Q20"},{op:" --force --speed 1 --quality 30-40 256",name:"256-Q40"},{op:" --force --speed 1 --quality 40-50 256",name:"256-Q50"},{op:" --force --speed 1 --quality 50-60 256",name:"256-Q60"},{op:" --force --speed 1 --quality 60-70 256",name:"256-Q70"},{op:" --force --speed 1 --quality 70-80 256",name:"256-Q80"},{op:" --force --speed 1 --quality 80-90 256",name:"256-Q90"},{op:" --force --speed 1 --quality 90-100 256",name:"256-Q100"},{op:" --force --speed 1  256",name:"256-high"},{op:" --force --speed 1 --quality 40-80 256",name:"256-middle"},{op:" --force --speed 1 --quality 0-40 256",name:"256-low"},{op:" --force --speed 1 --quality 0-1 --posterize 4 256",name:"256-lowest"},{op:" --force --speed 1  ",name:"lossy-high"},{op:" --force --speed 1 --quality 0-40",name:"lossy-low"}],b.ect=function(t,e){var n={};return e?n.op=b.ect.lossyOps[t].op:n.op=b.ect.lossLessOps[t].op,n.cmd=function(t){return n.op+' "'+t+'" '},n.exeName="ect.exe",n},b.ect.lossLessOps=[{op:"-s3",name:"最好"},{op:"-s2",name:"平衡"},{op:"-s1",name:"快速"}],b.ect.lossyOps=[],window.getFileSize=function(t){try{var e=h["default"].statSync(t)}catch(n){return console.error(n),null}return e.size}},function(t,e){t.exports=require("child_process")},function(t,e){"use strict";window.getLog=function(){for(var t="<table> <tr>\n        <th>文件名</th>\n        <th>路径</th>\n        <th>原大小</th>\n        <th>新大小</th>\n        <th>模式</th>\n        <th>减少大小</th>\n        <th>减少比例</th>\n        <th>耗时</th>\n        <th>处理日志</th>\n        <th>错误</th>\n</tr>",e=v.list_size_old,n=v.list_size_new,r=0,i=0;i<v.list.length;i++){var o=v.list[i].size_old,s=v.list[i].size_new,a=(v.list[i].time_consum/1e3).toFixed(1);r=+r+ +a,t+="<tr>\n        <td>"+v.list[i].name+'</td>\n        <td class="log">'+v.list[i].path+"</td>\n        <td>"+filter_file_size(o)+" ("+o+" B)</td>\n        <td>"+filter_file_size(s)+" ("+s+" B)</td>\n        <td> ["+v.mode+"] </td>\n        <td>"+filter_file_size(s-o)+"("+(s-o)+" B)</td>\n        <td>"+filter_file_size_pre(s/o)+"</td>\n        <td>"+a+' s</td>\n        <td class="log">'+v.list[i].log+"</td>\n        <td>"+v.list[i].error_info+"</td>\n        </tr> \n"}return t+="<tr>\n        <td>总计</td>\n        <td> "+v.list.length+"个文件</td>\n        <td>"+filter_file_size(e)+" ("+e+" B)</td>\n        <td>"+filter_file_size(n)+" ("+n+" B)</td>\n        <td>线程数："+v.thread+"  </td>\n        <td>"+filter_file_size(n-e)+"("+(n-e)+" B)</td>\n        <td>"+filter_file_size_pre(n/e)+"</td>\n        <td>累计："+r+" s</td>\n        <td >实际耗时： "+(v.time/1e3).toFixed(1)+" s, 平均耗时："+(v.time/1e3/v.list.length).toFixed(1)+"s </td>\n        <td></td>\n        </tr> \n",t+=" </table>"},window.outLogHtml=function(){var t=getLog(),e=os.tmpdir();e=path.join(e,"limitPNG_temp","Report-limitPNG.html");var n='\n    <!DOCTYPE html>\n        <html lang="zh-CN" >\n        <head>\n        <meta charset="utf-8">\n	<title>limitPNG 处理报告</title>\n    </head>\n    <body>\n\n<style>\n\n	table {\n    width: 95%;\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: auto;\n        font-family: "微软雅黑";\n    font-size: 14px;\n}\n thead,  tr {\nborder-top-width: 1px;\nborder-top-style: solid;\nborder-top-color: rgb(233, 236, 236);\n}\n {\nborder-bottom-width: 1px;\nborder-bottom-style: solid;\nborder-bottom-color: rgb(233, 236, 236);\n}\n td,  th {\npadding: 5px 10px;\nfont-family: Verdana;\ncolor:rgb(55, 100, 128);\n}\n\n tr:nth-child(even) {\nbackground: rgb(233, 236, 236);\n}\n tr:nth-child(odd) {\nbackground: #FFF\n}\n.log{font-size: 8px;}\n</style>\n        '+t+"\n    </body>\n    </html>\n    ";return fs.writeFileSync(e,n,"utf8"),shell.openExternal(e),n};var n=0;window.out_log_try=function(){n++,n>=2&&(outLogHtml(),n=0)},window.fileCompare=function(){function t(t,e){return t.sort(function(t,n){return t[e]-n[e]})}dialog.showOpenDialog({title:"对比文件大小 - 第一个选中的被认为是原图",properties:["openFile","multiSelections"]},function(e){if(void 0!=e&&e.length>0){for(var n="<table> <tr>\n                            <th>排名</th>\n                            <th>文件名</th>\n                            <th>大小</th>\n                            <th>减少大小</th>\n                            <th>减少比例</th>        \n                            </tr>",r=0,i=[],o=0;o<e.length;o++){var s=fs.statSync(e[o]),a=s.size;0==o?(r=a,n+='<tr class="org">\n                            <td>原图</td>\n                                <td>'+path.basename(e[o])+"</td>\n                                <td>"+filter_file_size(a)+" ("+a+" B)</td>\n                                <td></td>\n                                <td></td>\n                                </tr> \n"):i.push({size:a,html:"\n                                <td>"+path.basename(e[o])+"</td>\n                                <td>"+filter_file_size(a)+" ("+a+" B)</td>\n                                <td>"+filter_file_size(r-a)+" ("+(r-a)+" B)</td>\n                                <td>"+filter_file_size_pre(a/r)+"</td>\n                                </tr> \n"})}console.log(i),t(i,"size"),console.log(i);for(var c=0;c<i.length;c++)n+=0==c?'<tr class="cp_no1"><td>'+(c+1)+"</td> ":"<tr><td>"+(c+1)+"</td> ",n+=i[c].html;n+=" </table>",i.length>2&&(n+='<div class="cp_vs"> 第一名比第二名减少 '+filter_file_size(i[1].size-i[0].size)+"("+(i[1].size-i[0].size)+" B), 减少比例："+filter_file_size_pre(i[0].size/i[1].size)+"</div>");var u=os.tmpdir();u=path.join(u,"limitPNG_temp","Compare-Report-limitPNG.html");var l='\n    <!DOCTYPE html>\n        <html lang="zh-CN">\n        <head>\n        <meta charset="utf-8">\n	<title>limitPNG 文件比较</title>\n    </head>\n    <body>\n\n<style>\n\ndiv.cp_vs {\n    position: relative;\n    padding: 40px;\n    color: #28848E;\n}\n\n	table {\n    width: 95%;\n \n    left: 0;\n    right: 0;\n    margin: auto;\n        font-family: "微软雅黑";\n    font-size: 14px;\n}\n thead,  tr {\nborder-top-width: 1px;\nborder-top-style: solid;\nborder-top-color: rgb(233, 236, 236);\n}\n {\nborder-bottom-width: 1px;\nborder-bottom-style: solid;\nborder-bottom-color: rgb(233, 236, 236);\n}\n td,  th {\npadding: 5px 10px;\nfont-family: Verdana;\ncolor:rgb(55, 100, 128);\n}\n\n tr:nth-child(even) {\nbackground: rgb(233, 236, 236);\n}\n tr:nth-child(odd) {\nbackground: #FFF\n}\n.log{font-size: 8px;}\n\ntbody tr.org td {\n    color: #FAFFFF;\n}\ntbody tr.org {\n    background: rgb(61, 169, 181);\n    color: #A9A9A9;\n}\n\ntbody tr.cp_no1 {\n    background: #BDE8E8;\n}\n</style>\n        '+n+"\n    </body>\n    </html>\n    ";return fs.writeFileSync(u,l,"utf8"),shell.openExternal(u),l}})}},function(t,e){t.exports=require("electron")}]);